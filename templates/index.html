{% extends 'base.html' %}


{% block main %}
              {% for article in article_list.object_list %}
                <article class="post post-{{ article.id }}">
                    <header class="entry-header">
                        <h1 class="entry-title">
                            <a href="{% url "blog:article_detail" article.id %}">{{  article.title }}</a>
                        </h1>
                        <div class="entry-meta">
                            <span class="post-category"><a href="#">{{ article.category.name }}</a></span>
                            <span class="post-date"><a href="#"><time class="entry-date"
                                                                      datetime="{{ article.add_time }}">{{ article.add_time }}</time></a></span>
                            <span class="post-author"><a href="#">{{ article.author }}</a></span>
                            <span class="comments-link"><a href="#">{{ article.comment_set.count }} 评论</a></span>
                            <span class="views-count"><a href="{{ article.get_absolute_url }}">{{ article.views }} 阅读</a></span>
                        </div>
                    </header>
                    <div class="entry-content clearfix">
                        <p>{{ article.excerpt }}</p>
                        <div class="read-more cl-effect-14">
                            <a href="{% url 'blog:article_detail' article.id %}" class="more-link">继续阅读 <span class="meta-nav">→</span></a>
                        </div>
                    </div>
                </article>
              {% empty %}
                <div class="no-post">暂时还未发布文章！！！</div>
              {% endfor %}

             <div class="pageturn">
            <ul class="pagelist">
                    {% if article_list.has_previous %}
                        <li class="long"><a href="?{{ article_list.previous_page_number.querystring }}">上一页</a></li>
                    {% endif %}
                    {% for page in article_list.pages %}
                        {% if page %}
                            {% ifequal page article_list.number %}
                                <li class="active"><a href="?{{ page.querystring }}">{{ page }}</a></li>
                            {% else %}
                                <li><a href="?{{ page.querystring }}" class="page">{{ page }}</a></li>
                            {% endifequal %}
                        {% else %}
                            <li class="none"><a href="">...</a> </li>
                        {% endif %}
                    {% endfor %}
                    {% if article_list.has_next %}
                        <li class="long"><a href="?{{ article_list.next_page_number.querystring }}">下一页</a></li>
                    {% endif %}
            </ul>
        </div>
{% endblock main %}